<!doctype html>
<html lang="en">
    <head>
        <meta chatset="utf-8">
        <title>Quick Store - <%= siteTitle %></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/style.css" type="text/css" rel="stylesheet" />
        <style>
            @import url('https://fonts.googleapis.com/css?family=Roboto+Mono');

            .p-quickstore__container {
                max-width: 100%;
                min-height: 450px;
                width: 450px;
            }

            .p-quickstore__content {
                font-family: 'Roboto Mono', monospace;
                min-height: 150px;
            }
        </style>
    </head>
    <body class="p-quickstore">
        <form
            class="c-container p-quickstore__container"
            action="/quickstore"
            method="post"
        >
            <h1 class="c-container__title"><%= siteTitle %></h1>
            <input
                autofocus
                class="c-container__field"
                name="title"
                placeholder="Title"
                type="text"
            />
            <label class="c-container__checkbox">
                <input
                    class="c-container__checkbox__input"
                    name="append"
                    type="checkbox"
                />
                <span class="c-container__checkbox__label">
                    Append to existing file
                </span>
            </label>
            <input
                class="c-container__field p-quickstore__tags"
                name="tags"
                placeholder="Tags"
                type="text"
            />
            <textarea
                class="c-container__field p-quickstore__content"
                name="content"
                placeholder="Content"
                type="text"
            ></textarea>
            <div class="c-container__right">
                <input
                    class="c-container__button p-quickstore__action"
                    type="submit"
                    value="Save"
                />
            </div>
        </form>
        <script>
            function toggleSaveAction(event) {
                const tags = document.querySelector('.p-quickstore__tags');
                const action = document.querySelector('.p-quickstore__action');

                if (event.target.checked) {
                    action.value = 'Update';
                    tags.style.display = 'none';
                    tags.value = '';
                }
                else {
                    action.value = 'Save';
                    tags.style.display = 'block';
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
                const checkbox = document.querySelector('.c-container__checkbox');
                checkbox.addEventListener('change', toggleSaveAction);
            }, false);
        </script>
    </body>
</html>
